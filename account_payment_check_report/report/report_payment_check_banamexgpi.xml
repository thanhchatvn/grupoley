<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
<template id="report_payment_check_document_cgpi">

  <t t-if="not o and doc">
      <t t-set="o" t-value="doc"/>
  </t>

  <t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})"/>

  <t t-if="o and 'company_id' in o">
      <t t-set="company" t-value="o.company_id"/>
  </t>
  <t t-if="not o or not 'company_id' in o">
      <t t-set="company" t-value="res_company"/>
  </t>

  <div class="article" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id">
     <!--HEADER-->
     <div class="header" style=" border: 1px solid black;">
		<div class="row" style="border: 1px solid black; border-radius: 10px; border-color: blue; height:2cm !important;">
			<!--COMPANY LOGO-->
			<div class="col-2 text-left">
				<!--<img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % o.company_id.logo" style="display: block !important; float: left !important; position: absolute !important; margin-top: 0px !important; margin-bottom: 0px !important; top: 10px !important; left: 10px !important; bottom: auto !important; max-height: 95px;"/>
				<img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="max-width: 230px; max-height: 60px; margin-top: 30px;" alt="Logo"/>-->
			</div><!--END COMPANY LOGO-->
			<!--FE-->

			<!--END FE-->
			<!--DOCUMENT LETTER-->
			<div class="col-3 text-center">
			  <div class="card" style="margin:0px;">
				<div style="font-size: 24px;padding:0px; color:#ffffff;"> che</div>
				<div class="card-body" style="height: 20px;padding:0px;"><br/></div>
			  </div>
			</div><!--END DOCUMENT LETTER-->
			<!--TIPO,NRO Y FECHA FACTURA-->
			<div class="col-5 text-left" name="company_address" style="border: 1px solid black; border-radius: 10px; border-color: green; padding-left: 50px !important;">
			  <h3 style="color:#ffffff; ">
                 titulo margen
			  </h3>
			  <span t-if="o.state == 'confirmed' or o.state == 'posted' or o.state == 'draft'">
					  Fecha: <span t-field="o.date"/><br/>
			  </span>
			  <span style="border: 1px solid black;" t-if="o.state == 'confirmed' or o.state == 'posted' or o.state == 'draft'">
						<!--<span t-field="o.display_name"/>-->
			  </span>
			</div>
			<!--END DATOS FACTURA-->
		</div>

  	</div>

	 <!--FIN HEADER-->

	  <div class="page" style=" border: 1px solid black; border-radius: 10px; padding-top: -5%; ">
		  <!--MY COMPANY CHECK-->
  		 <div class="row" style="  border: 1px solid black; border-color:red; border-radius: 10px;">
  			 <div class="col-10" >
  			   <span class="text-center" t-esc="'PARA ABONO EN CUENTA DEL BENEFICIARIO'" style="font-size: 14px; font-weight: bold; margin-left:30%;"/>
  			   <span t-esc="0"/>
				 <div t-field="o.partner_id"/>
  			   <div  style= "padding-left:4%;"><strong><span t-esc="o.check_amount_in_words"></span></strong></div>
  			 </div>
  			  <div class="col-2">
				<span t-esc="0"/>  <span  style="color:#ffffff;" t-field="o.check_number"/><br/>
				 <p><strong> <span t-esc="0"/>  <span  style="padding-top: 1% !important;" t-field="o.amount"/></strong></p>
				 <span t-esc="0"/>
                <p><strong><span t-esc="'o.check_amount_in_words'"  style="color:#ffffff;"></span></strong></p>
  			 </div>
  		 </div>
  		 <!--END MY COMPANY-->
  		 <br/>
  		 <!-- Beneficiario -->
  		 <div class="row" style="border: 1px solid black; border-radius: 10px; margin-top:22% !important;">

  		   <div name="invoice_address" class="col-8"  style=" font-size: 12px; margin-top: 8px !important;">
               <strong>NOMBRE</strong>
               	  <span t-field="o.partner_id"/>
               <p><strong></strong><span t-esc="0"/></p>
				  <strong style="color:#ffffff;">Fecha </strong><span t-field="o.date"/>
  		   </div>


			  <div name="check_number" class="col-4"  style=" font-size: 11px; margin-top: 8px !important;">
				<strong >FIRMA CHEQUE RECIBIDO </strong>  <span t-field="o.check_number" style="font-size: 12px; font-weight: bold;"/>
  		   </div>
  		 </div>
  		 <!-- END PROVEEDOR -->

	    <table class="table" style="width:100%; font-size: 12px;" >
	        <thead colspan="8">
	            <tr class="border-black">
	                <th  style="text-align:center; width:100px;">VOUCHER/FACTURA</th>
	                <th  style="text-align:center; width:230px;"> <span>CONCEPTO</span></th>
	                <th  style="text-align:center; width:70px;">IMPORTE</th>
	            </tr>
	        </thead>
	        <tbody class="invoice_tbody" style="font-size:12px;">
	            <tr t-foreach="o.reconciled_bill_ids" t-as="p">
	              <td tyle="text-align:center; width:100px;"><span t-field="p.name"/></td>
	              <td style="text-align:center; width:230px;"><span t-field="p.payment_reference"/></td>
					<td style="text-align:center; width:70px;"><span t-field="p.amount_total"></span></td>
					<!--<td colspan="1"><span t-esc="o._get_invoice_payment_amount(p)"></span></td>-->

	            </tr>

	        </tbody>

	      </table>
	  </div>
	  <footer style="margin-top:50%;">
			  <table class="table">
	          <tbody>
                    <tr>
                    <td colspan="3">Importe en letras son
                    <span  class="text-center">
					  <span t-esc="o.check_amount_in_words"/>
				     </span></td>
                </tr>
	          <tr class="border-black">
				  <td colspan="3" style="color:#ffffff;"><strong>Concepto</strong>
	              <span style="color:#ffffff;" class="text-center">
					  <span t-field="o.ref"/>
                       <span t-field="o.journal_id"/>
				 </span>
				  </td>
	            <td colspan="2" class="text-right" ><strong style="color:#ffffff;">Total</strong></td>
	            <td colspan="2" class="text-right">
	                 <span t-field="o.amount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
	            </td>
	          </tr>
			   </tbody>
	      </table>
	        </footer>

	</div>
  <!--<t t-call="report.external_layout_footer"/>-->

</template>

<template id="report_payment_check_citibanamex_gpi">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="account_payment_check_report.report_payment_check_document_cgpi" t-lang="o.partner_id.lang"/>
        </t>
    </t>
</template>
	<!--Para customizar el formato*/-->
	<record id="paperformat_euro_lowmargin_c" model="report.paperformat">
    <field name="name">European A4 low margin</field>
    <field name="default" eval="True"/>
    <field name="format">A4</field>
    <field name="page_height">0</field>
    <field name="page_width">0</field>
    <field name="orientation">Portrait</field>
    <field name="margin_top">30</field>
    <field name="margin_bottom">5</field>
    <field name="margin_left">5</field>
    <field name="margin_right">5</field>
    <field name="header_line" eval="False"/>
    <field name="header_spacing">24</field>
    <field name="dpi">80</field>
</record>


        <!-- QWeb Reports -->
        <report
            id="account_payment_check_report.account_payment_check_report_citibanamex_gpi"
            model="account.payment"
            string="Cheque banamex GPI"
            report_type="qweb-pdf"
            name="account_payment_check_report.report_payment_check_citibanamex_gpi"
            file="account_payment_check_report.report_payment_check_citibanamex_gpi"
			paperformat="account_payment_check_report.paperformat_euro_lowmargin_c"

        />
<!--Asignando formato personalizado paperformat="account_payment_check_report.paperformat_euro_lowmargin"/>-->
<!--attachment="(object.state in ('open','paid')) and ('INV'+(object.number or '').replace('/','')+'.pdf')"-->

</data>
</odoo>
